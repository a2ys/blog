---
import { formatDate } from "../utils/dateFormat";
const { title, author, authorAvatar, authorProfileLink, date, imageSrc, slug } =
  Astro.props;
---

<div
  class="rounded-lg relative bg-white dark:bg-slate-800 text-gray-900 dark:text-white border border-gray-200 dark:border-slate-700 shadow-md hover:shadow-lg transition-shadow duration-300 h-full flex flex-col"
>
  <a href={`/blog/${slug}`} class="flex flex-col flex-grow">
    <img
      class="w-full object-cover rounded-t-lg h-48"
      src={imageSrc || "/placeholder.webp"}
      alt={`${title} cover image`}
    />
    <div
      class="p-4 flex flex-col h-full items-start border-t border-gray-200 dark:border-slate-600"
    >
      <h1
        class="text-lg sm:text-xl font-bold mb-3 leading-tight text-gray-900 dark:text-white"
      >
        {title}
      </h1>
      <div
        class="text-sm text-gray-600 dark:text-slate-300 flex flex-row items-center"
      >
        <a
          href={authorProfileLink}
          class="flex flex-row items-center hover:text-gray-900 dark:hover:text-white transition-colors"
        >
          <img
            src={`/authors/${authorAvatar}`}
            alt={`${author}'s avatar`}
            class="w-5 h-5 rounded-full mr-2"
          />
          <span class="font-medium">{author}</span>
        </a>
        <span class="mx-2 text-gray-500 dark:text-slate-400">Â·</span>
        <time class="text-gray-500 dark:text-slate-400">
          {formatDate(date)}
        </time>
      </div>
    </div>
  </a>
</div>

<style>
  a {
    cursor: url("/read.cur"), pointer;
  }
</style>
